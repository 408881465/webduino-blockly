<template id="btn">
  <style>
  .myButton {
    -moz-box-shadow: inset 0px 1px 0px 0px #bbdaf7;
    -webkit-box-shadow: inset 0px 1px 0px 0px #bbdaf7;
    box-shadow: inset 0px 1px 0px 0px #bbdaf7;
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #79bbff), color-stop(1, #378de5));
    background: -moz-linear-gradient(top, #79bbff 5%, #378de5 100%);
    background: -webkit-linear-gradient(top, #79bbff 5%, #378de5 100%);
    background: -o-linear-gradient(top, #79bbff 5%, #378de5 100%);
    background: -ms-linear-gradient(top, #79bbff 5%, #378de5 100%);
    background: linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
    filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#79bbff', endColorstr='#378de5', GradientType=0);
    background-color: #79bbff;
    -moz-border-radius: 12px;
    -webkit-border-radius: 12px;
    border-radius: 12px;
    border: 1px solid #84bbf3;
    display: inline-block;
    cursor: pointer;
    color: #ffffff;
    font-family: Georgia;
    font-size: 24px;
    font-weight: bold;
    padding: 24px 24px;
    text-decoration: none;
    text-shadow: 0px 1px 0px #528ecc;
    margin: 20px;
  }
  
  .myButton:hover {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #378de5), color-stop(1, #79bbff));
    background: -moz-linear-gradient(top, #378de5 5%, #79bbff 100%);
    background: -webkit-linear-gradient(top, #378de5 5%, #79bbff 100%);
    background: -o-linear-gradient(top, #378de5 5%, #79bbff 100%);
    background: -ms-linear-gradient(top, #378de5 5%, #79bbff 100%);
    background: linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
    filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#378de5', endColorstr='#79bbff', GradientType=0);
    background-color: #378de5;
  }
  
  .myButton:active {
    position: relative;
    top: 6px;
  }
  
  .pinTextStyle {
    margin: -16px 0 0 24px;
    font-size: 10px;
  }
  </style>
  <div style='float:left'>
    <a href="#" class="myButton"> </a>
    <div class='pinTextStyle'>Pin:<span id='signal'></span></div>
  </div>
</template>
<script>
var doc = (document._currentScript || document.currentScript).ownerDocument;
var btnTemp = doc.querySelector('#btn');

customElements.define('ui-btn', class extends HTMLElement {
  constructor() {
    super();
    this.root = this.attachShadow({
      mode: 'closed'
    });
    const temp = document.importNode(btnTemp.content, true);
    this.root.appendChild(temp);
    this.addEventListener();
  }

  pin(signal) {
    this.signal = signal;
    var ele = this.root.querySelector("#signal");
    ele.innerHTML = signal;
  }

  addEventListener() {
    var self = this;
    var btn = this.root.querySelector(".myButton");
    btn.addEventListener("click", function(e) {});
    btn.addEventListener("mousedown", function(e) {
      console.log("mousedown");
      self.engine.board.sendDigitalData(self.signal, 1);
    });
    btn.addEventListener("mouseup", function(e) {
      console.log("mouseup");
      setTimeout(function() {
        self.engine.board.sendDigitalData(self.signal, 0);
      }, 0);

    });
  }

  setEngine(engine) {
    this.engine = engine;
  }

});
</script>