<template id="servo">
  <style>
  .servo {
    margin: 80px 10px 10px 25px;
    border: 1px solid black;
    width: 50px;
    height: 18px;
    background-color: coral;
  }
  </style>
  <div>
    <div class='servo'>
      <br>
      <br>
    </div>
    <div style="margin:0 0 0 35px;font-size:10px">pin:<span id='signal'></span></div>
  </div>
</template>
<script>
var doc = (document._currentScript || document.currentScript).ownerDocument;
var servoTemp = doc.querySelector('#servo');

customElements.define('ui-servo', class extends HTMLElement {
  constructor() {
    super();
    this.root = this.attachShadow({
      mode: 'closed'
    });
    const temp = document.importNode(servoTemp.content, true);
    this.root.appendChild(temp);
    this.degree(90);
  }

  pin(signal) {
    var ele = this.root.querySelector("#signal");
    window.qq = this;
    ele.innerHTML = signal;
    this.signal = signal;
  }

  degree(deg) {
    var ele = this.root.querySelector(".servo");
    ele.style.WebkitTransform = "rotate(" + deg + "deg) translate(-20px, 0px)";
    ele.style.msTransform = "rotate(" + deg + "deg) translate(-20px, 0px)";
    ele.style.transform = "rotate(" + deg + "deg) translate(-20px, 0px)";
  }

});
</script>